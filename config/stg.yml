# define the domains this service should respond to requests for
# one per line using name: in a sequence under the domain scalar
# use name: as key for each item in sequence
domains:
  - name: "*.stg.nytimes.com"
  - name: "www.stg.nytimes.com"

# these are the default values for backend config keys if not specified
# some are only here for documentation purposes, some you can override
backend_defaults:
  use_ssl: "true" # can override, you must providfe ssl_cert_hostname if true
  port: "443" # can override this, default behaviour is TLS on port 443
  ssl_check_cert: "true" # cannot be overridden, must use this value if TLS enabled
  auto_loadbalance: "false" # cannot be overidden, we cannot use this in this service

# these are the default values for healthcheck config keys if not specified
healthcheck_defaults:
  method: "GET" # healthchecks will use "GET" method unless specified

# define each backend here in sequence under backends scalar
# as well as it's healthcheck like:
#
# backends:
#   - name: "fancyapp"
#     key: "value"
#     healthcheck:
#       host: "fancyapp.nyt.net"
#       key: "value"
#
#   - name: "fanciestapp"
#     key: "value"
#     healthcheck:
#       host: "fanciestapp.nyt.net"
#       key: "value"
#
# each backend must provide a healthcheck for itself!
# Add a blank line between each one for readability.
# Pay attention to the above defined defaults!
# each backend must be named uniquely! (do a find before naming)
# name your backend descriptively for what app it is: don't use "web_app", do use "worldcup_fe"
# each backend AUTOMATICALLY gets a condition attached checking req.http.x-nyt-backend == "backend_name"

# begin backend configuration for this service
backends:
  - name: "article_fe"
    address: "nyt5-app-article.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "nyt5-app-article.stg.oma1.nyt.net"
    ssl_sni_hostname: "nyt5-app-article.stg.oma1.nyt.net"
    healthcheck:
      host: "nyt5-app-article.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "3"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "www_userinfo"
    address: "nyt5-api-userinfo.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "nyt5-api-userinfo.stg.oma1.nyt.net"
    ssl_sni_hostname: "nyt5-api-userinfo.stg.oma1.nyt.net"
    healthcheck:
      host: "nyt5-api-userinfo.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "3"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "beta_guides"
    address: "frontend.guides.stg.nyt.net"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "frontend.guides.stg.nyt.net"
    ssl_sni_hostname: "frontend.guides.stg.nyt.net"
    healthcheck:
      host: "frontend.guides.stg.nyt.net"
      path: "/api/health"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "4"
      timeout: "3000"
      window: "5"

  - name: "beta_watching"
    address: "np-watching-stg-public-668029006.us-east-1.elb.amazonaws.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    port: "80"
    use_ssl: "false"
    healthcheck:
      host: "np-watching-stg-public-668029006.us-east-1.elb.amazonaws.com"
      path: "/api/health"
      check_interval: "5000"
      expected_response: "200"
      initial: "4"
      threshold: "4"
      timeout: "3000"
      window: "5"

  - name: "collection_fe"
    address: "nyt5-app-collection.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "nyt5-app-collection.stg.oma1.nyt.net"
    ssl_sni_hostname: "nyt5-app-collection.stg.oma1.nyt.net"
    healthcheck:
      host: "nyt5-app-collection.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "collections_svc"
    address: "ce-collections-stg.dv.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "ce-collections-stg.dv.nyt.net"
    ssl_sni_hostname: "ce-collections-stg.dv.nyt.net"
    healthcheck:
      host: "ce-collections-stg.dv.nyt.net"
      path: "/svc/collections/v1/publish/scoop/www.nytimes.com/section/sports/hockey?limit=0"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "add_svc"
    address: "ce-search-add-api-stg.dv.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "ce-search-add-api-stg.dv.nyt.net"
    ssl_sni_hostname: "ce-search-add-api-stg.dv.nyt.net"
    healthcheck:
      host: "ce-search-add-api-stg.dv.nyt.net"
      path: "/actuator/health"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "content_api"
    address: "origin-content.api.stg.nytimes.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "origin-content.api.stg.nytimes.com"
    ssl_sni_hostname: "origin-content.api.stg.nytimes.com"
    healthcheck:
      host: "origin-content.api.stg.nytimes.com"
      path: "/version.json"
      check_interval: "5000"
      expected_response: "200"
      initial: "4"
      threshold: "4"
      timeout: "3000"
      window: "5"

  - name: "gae_oembed_content_api"
    address: "nyt-du-dev.appspot.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "nyt-du-dev.appspot.com"
    ssl_sni_hostname: "nyt-du-dev.appspot.com"
    healthcheck:
      host: "nyt-du-dev.appspot.com"
      path: "/healthcheck"
      check_interval: "60000"
      expected_response: "200"
      initial: "4"
      threshold: "4"
      timeout: "3000"
      window: "5"

  - name: "games_svc"
    address: "nyt-games-dev.appspot.com"
    between_bytes_timeout: "15000"
    connect_timeout: "10000"
    first_byte_timeout: "15000"
    ssl_cert_hostname: "nyt-games-dev.appspot.com"
    ssl_sni_hostname: "nyt-games-dev.appspot.com"
    healthcheck:
      host: "nyt-games-dev.appspot.com"
      path: "/status.txt"
      check_interval: "10000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "games_web"
    address: "puzzles.dev.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "puzzles.dev.nyt.net"
    ssl_sni_hostname: "puzzles.dev.nyt.net"
    healthcheck:
      host: "puzzles.dev.nyt.net"
      path: "/health-web"
      check_interval: "10000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "games_phoenix"
    address: "phoenix.games.dev.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "puzzles.dev.nyt.net"
    ssl_sni_hostname: "puzzles.dev.nyt.net"
    healthcheck:
      host: "phoenix.games.dev.nyt.net"
      path: "/healthz"
      check_interval: "10000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "intl_gcp"
    address: "intl.stg.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "intl.stg.nyt.net"
    ssl_sni_hostname: "intl.stg.nyt.net"
    healthcheck:
      host: "intl.stg.nyt.net"
      path: "/healthcheck.php"
      check_interval: "30000"
      expected_response: "200"
      initial: "5"
      threshold: "4"
      timeout: "10000"
      window: "5"

  - name: "misc_fe"
    address: "nyt5-app-misc.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "nyt5-app-misc.stg.oma1.nyt.net"
    ssl_sni_hostname: "nyt5-app-misc.stg.oma1.nyt.net"
    healthcheck:
      host: "nyt5-app-misc.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "4"
      timeout: "5000"
      window: "5"

  - name: "newsdev_cloud_functions_us_central1"
    address: "us-central1-nytint-stg.cloudfunctions.net"
    between_bytes_timeout: "300000"
    connect_timeout: "300000"
    first_byte_timeout: "300000"
    ssl_cert_hostname: "us-central1-nytint-stg.cloudfunctions.net"
    ssl_sni_hostname: "us-central1-nytint-stg.cloudfunctions.net"
    healthcheck:
      host: "us-central1-nytint-stg.cloudfunctions.net"
      path: "/healthcheck"
      check_interval: "60000"
      expected_response: "200"
      initial: "4"
      threshold: "4"
      timeout: "10000"
      window: "5"

  - name: "newsdev_elections"
    address: "storage.googleapis.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "storage.googleapis.com"
    ssl_sni_hostname: "storage.googleapis.com"
    healthcheck:
      host: "nytint-stg-elections.storage.googleapis.com"
      path: "/healthcheck.txt"
      check_interval: "5000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "2000"
      window: "5"

  - name: "newsdev_elections_s3"
    address: "s3.amazonaws.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "s3.amazonaws.com"
    ssl_sni_hostname: "s3.amazonaws.com"
    healthcheck:
      host: "nytint-stg-elections.s3.amazonaws.com"
      path: "/healthcheck.txt"
      check_interval: "5000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "2000"
      window: "5"

  - name: "newsdev_k8s_gke"
    address: "gke.stg.newsdev.nytimes.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "gke.stg.newsdev.nytimes.com"
    ssl_sni_hostname: "gke.stg.newsdev.nytimes.com"
    healthcheck:
      host: "gke.stg.newsdev.nytimes.com"
      path: "/healthz"
      check_interval: "30000"
      expected_response: "200"
      initial: "5"
      threshold: "4"
      timeout: "10000"
      window: "5"

  - name: "paidpost_fe"
    address: "nyt5-app-paidpost.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "nyt5-app-paidpost.stg.oma1.nyt.net"
    ssl_sni_hostname: "nyt5-app-paidpost.stg.oma1.nyt.net"
    healthcheck:
      host: "nyt5-app-paidpost.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "programs_svc"
    address: "ftu-dot-nyt-betaprog-dev.appspot.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "ftu-dot-nyt-betaprog-dev.appspot.com"
    ssl_sni_hostname: "ftu-dot-nyt-betaprog-dev.appspot.com"
    healthcheck:
      host: "ftu-dot-nyt-betaprog-dev.appspot.com"
      path: "/status.txt"
      check_interval: "5000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "shaq_svc"
    address: "shaq-dot-nyt-betaprog-dev.appspot.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "shaq-dot-nyt-betaprog-dev.appspot.com"
    ssl_sni_hostname: "shaq-dot-nyt-betaprog-dev.appspot.com"
    healthcheck:
      host: "shaq-dot-nyt-betaprog-dev.appspot.com"
      path: "/svc/shaq/v1/healthcheck"
      check_interval: "15000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "projectvi_fe"
    address: "alpha-test.stg.nyt.net"
    between_bytes_timeout: "2000"
    connect_timeout: "3000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "alpha-test.stg.nyt.net"
    ssl_sni_hostname: "alpha-test.stg.nyt.net"
    shield: "jfk-ny-us"
    healthcheck:
      host: "alpha-test.stg.nyt.net"
      path: "/.healthcheck"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "projectvi_static_backup_gcs"
    address: "storage.googleapis.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "storage.googleapis.com"
    ssl_sni_hostname: "storage.googleapis.com"
    healthcheck:
      host: "newsreader-static-site-backup-dev.storage.googleapis.com"
      path: "/healthcheck.txt"
      check_interval: "60000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "2000"
      window: "5"

  - name: "projectvi_trending_fe"
    address: "alpha-dev.dev.nyt.net"
    between_bytes_timeout: "2000"
    connect_timeout: "3000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "alpha-dev.dev.nyt.net"
    ssl_sni_hostname: "alpha-dev.dev.nyt.net"
    shield: "jfk-ny-us"
    healthcheck:
      host: "alpha-dev.dev.nyt.net"
      path: "/.healthcheck"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "mwcm"
    address: "mwcm-pub.stg.gtm.nytimes.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    port: "443"
    use_ssl: "true"
    ssl_check_cert: "true"
    ssl_cert_hostname: "mwcm-pub.stg.nytimes.com"
    ssl_sni_hostname: "mwcm-pub.stg.nytimes.com"
    healthcheck:
      host: "mwcm-pub.stg.gtm.nytimes.com"
      path: "/.status"
      check_interval: "60000"
      expected_response: "200"
      initial: "2"
      threshold: "1"
      timeout: "3000"
      window: "2"

  - name: "mwcm_preview"
    address: "mwcm-auth-est-fastly.stg.iad1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    port: "443"
    use_ssl: "true"
    ssl_check_cert: "true"
    ssl_cert_hostname: "mwcm-author.stg.nytimes.com"
    ssl_sni_hostname: "mwcm-author.stg.nytimes.com"
    healthcheck:
      host: "mwcm-author.stg.nytimes.com"
      path: "/.status"
      check_interval: "600000"
      expected_response: "200"
      initial: "2"
      threshold: "1"
      timeout: "3000"
      window: "2"

  - name: "amp"
    address: "amp-dot-nyt-wfvi-dev.appspot.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "amp-dot-nyt-wfvi-dev.appspot.com"
    ssl_sni_hostname: "amp-dot-nyt-wfvi-dev.appspot.com"
    healthcheck:
      host: "amp-dot-nyt-wfvi-dev.appspot.com"
      path: "/.info"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "realestate_fe"
    address: "nyt5-app-realestate.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "nyt5-app-realestate.stg.oma1.nyt.net"
    ssl_sni_hostname: "nyt5-app-realestate.stg.oma1.nyt.net"
    healthcheck:
      host: "nyt5-app-realestate.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "3"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "sitemap"
    address: "search.ec2.nytimes.com.s3.amazonaws.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    port: "80"
    use_ssl: "false"
    healthcheck:
      host: "search.ec2.nytimes.com.s3.amazonaws.com"
      path: "/stg/mars/pub/status.txt"
      check_interval: "10000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "tbooks"
    address: "nytinsider.wordpress.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "nytinsider.wordpress.com"
    ssl_sni_hostname: "nytinsider.wordpress.com"
    healthcheck:
      host: "nytinsider.wordpress.com"
      path: "/osd.xml"
      check_interval: "60000"
      expected_response: "200"
      initial: "64"
      threshold: "1"
      timeout: "10000"
      window: "64"

  - name: "times_journeys"
    address: "timesjourneys.nytimes.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "timesjourneys.nytimes.com"
    ssl_sni_hostname: "timesjourneys.nytimes.com"
    healthcheck:
      host: "timesjourneys.nytimes.com"
      path: "/osd.xml"
      check_interval: "60000"
      expected_response: "200"
      initial: "64"
      threshold: "1"
      timeout: "10000"
      window: "64"

  - name: "times_journeys_students"
    address: "timesjourneysstudents.nytimes.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "timesjourneysstudents.nytimes.com"
    ssl_sni_hostname: "timesjourneysstudents.nytimes.com"
    healthcheck:
      host: "timesjourneysstudents.nytimes.com"
      path: "/osd.xml"
      check_interval: "60000"
      expected_response: "200"
      initial: "64"
      threshold: "1"
      timeout: "10000"
      window: "64"

  - name: "vp"
    address: "vp.nyt.com"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "vp.nyt.com"
    ssl_sni_hostname: "vp.nyt.com"
    healthcheck:
      host: "vp.nyt.com"
      path: "/video/360/video.min.js"
      check_interval: "20000"
      expected_response: "200"
      initial: "4"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "video_api"
    address: "cherry-api.stg.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "cherry-api.stg.nyt.net"
    ssl_sni_hostname: "cherry-api.stg.nyt.net"
    shield: "mdw-il-us"
    healthcheck:
      host: "cherry-api.stg.nyt.net"
      path: "/.status"
      check_interval: "30000"
      expected_response: "200"
      initial: "10"
      threshold: "8"
      timeout: "10000"
      window: "10"

  - name: "www_legacy_gke"
    address: "wf-legacy-www.stg.oma1.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "wf-legacy-www.stg.oma1.nyt.net"
    ssl_sni_hostname: "wf-legacy-www.stg.oma1.nyt.net"
    healthcheck:
      host: "wf-legacy-www.stg.oma1.nyt.net"
      path: "/.status"
      check_interval: "20000"
      expected_response: "200"
      initial: "3"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "video_library"
    address: "times-video.stg.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "times-video.stg.nyt.net"
    ssl_sni_hostname: "times-video.stg.nyt.net"
    shield: "mdw-il-us"
    healthcheck:
      host: "times-video.stg.nyt.net"
      path: "/.status"
      check_interval: "30000"
      expected_response: "200"
      initial: "10"
      threshold: "8"
      timeout: "10000"
      window: "10"

  - name: "blogs"
    address: "blogs.stg.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "10000"
    ssl_cert_hostname: "blogs.stg.nyt.net"
    ssl_sni_hostname: "blogs.stg.nyt.net"
    healthcheck:
      host: "blogs.stg.nyt.net"
      path: "/healthcheck"
      check_interval: "5000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "10000"
      window: "5"

  - name: "gcs_origin"
    address: "storage.googleapis.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "storage.googleapis.com"
    ssl_sni_hostname: "storage.googleapis.com"
    healthcheck:
      host: "nyt-fastly-healthcheck-0000.storage.googleapis.com"
      path: "/healthcheck.txt"
      check_interval: "5000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "2000"
      window: "5"

  - name: "profile_fe"
    address: "profile-fe.stg.nyt.net"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "profile-fe.stg.nyt.net"
    ssl_sni_hostname: "profile-fe.stg.nyt.net"
    healthcheck:
      host: "profile-fe.stg.nyt.net"
      path: "/status.txt"
      check_interval: "10000"
      expected_response: "200"
      initial: "2"
      threshold: "3"
      timeout: "5000"
      window: "5"

  - name: "community_svc"
    address: "ugc-phpapi-pub-v1-stg-ia-38969-2-1553505918.us-east-1.elb.amazonaws.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "ugc-phpapi-pub-v1.stg.iad1.nyt.net"
    ssl_sni_hostname: "ugc-phpapi-pub-v1.stg.iad1.nyt.net"
    healthcheck:
      host: "www.stg.nytimes.com"
      path: "/svc/community/V3/requestHandler?cmd=GetBasicInfo"
      check_interval: "20000"
      expected_response: "200"
      initial: "5"
      threshold: "3"
      timeout: "5000"
      window: "5"

  - name: "search_suggest"
    address: "ce-suggest-stg.dv.nyt.net"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    ssl_cert_hostname: "ce-suggest-stg.dv.nyt.net"
    ssl_sni_hostname: "ce-suggest-stg.dv.nyt.net"
    healthcheck:
      host: "ce-suggest-stg.dv.nyt.net"
      path: "/dv_esp_status"
      check_interval: "20000"
      expected_response: "200"
      initial: "3"
      threshold: "3"
      timeout: "5000"
      window: "4"

   # The configuration is same as dev since they are sharing the same public elb
  - name: "recommendations"
    address: "per.api.dev.nytimes.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "per.api.dev.nytimes.com"
    ssl_sni_hostname: "per.api.dev.nytimes.com"
    healthcheck:
      host: "per.api.dev.nytimes.com"
      path: "/recommendations/healthcheck"
      check_interval: "10000"
      expected_response: "200"
      initial: "2"
      threshold: "3"
      timeout: "5000"
      window: "5"

  - name: "switchboard"
    address: "54.163.240.55"
    between_bytes_timeout: "10000"
    connect_timeout: "10000"
    first_byte_timeout: "30000"
    port: "80"
    use_ssl: "false"
    healthcheck:
      host: "ec2-54-163-240-55.compute-1.amazonaws.com"
      path: "/healthcheck"
      check_interval: "20000"
      expected_response: "200"
      initial: "3"
      threshold: "3"
      timeout: "5000"
      window: "4"

  - name: "messaging"
    address: "messaging-hermes-edge-st-50964-2-72819608.us-east-1.elb.amazonaws.com"
    between_bytes_timeout: "5000"
    connect_timeout: "5000"
    first_byte_timeout: "5000"
    ssl_cert_hostname: "messaging-notifications.api.stg.nytimes.com"
    ssl_sni_hostname: "messaging-notifications.api.stg.nytimes.com"
    healthcheck:
      host: "messaging-hermes-edge-st-50964-2-72819608.us-east-1.elb.amazonaws.com"
      path: "/svc/message/v1/list/global.json"
      check_interval: "10000"
      expected_response: "200"
      initial: "2"
      threshold: "3"
      timeout: "5000"
      window: "5"

# defaults for cloud storage bucket configs
# these are overridable in per bucket configs below
#   auth_key:     the dictionary key for the bucket access token
#   auth_secret:  the dictionary key for the bucket access secret
#   s3_auth_key:     the dictionary key for the s3 bucket access token
#   s3_auth_secret:  the dictionary key for the s3 bucket access secret
# if you share your bucket with DV's google accounts you can use these defaults
# dictionary name for all keys is origin_auth_keys
cloud_storage_bucket_defaults:
  gcs_auth_key: "gcs_key"
  gcs_auth_secret: "gcs_secret"
  s3_auth_key: "s3_key"
  s3_auth_key: "s3_secret"

# these configurations are to map buckets for the routes that
# use cloud storage to their respective env specific storage bucket config
# pay attention to the defaults above in the case you need to override those
# be mindful that the pagetype you use here must be used in your route for this bucket!
# bucket_provider is one of: gcs, s3
cloud_storage_buckets:
  - route: "cms-static-assets"
    auth: "true"
    bucket_name: "cms-gke-stg-publish-images-storage"
    bucket_provider: "gcs"
  - route: "ads-static-assets"
    auth: "true"
    bucket_name: "nyt-ads-static-assets-stg"
    bucket_provider: "gcs"
  - route: "newsroom-files-gcs"
    auth: "true"
    bucket_name: "newsroom-files-dev"
    bucket_provider: "gcs"
  - route: "newsgraphics-gcs"
    auth: "true"
    bucket_name: "nytint-stg-newsgraphics"
    bucket_provider: "gcs"
  - route: "newsdev-gcs"
    auth: "true"
    bucket_name: "nytint-stg-www"
    bucket_provider: "gcs"
  - route: "vi-assets"
    auth: "false"
    bucket_name: "vi-assets"
    bucket_provider: "gcs"
  - route: "video-offsite-player"
    auth: "false"
    bucket_name: "nyt-video-stg"
    bucket_provider: "gcs"
  - route: "tips-html-gcs"
    auth: "true"
    bucket_name: "nyt-tips-dev-tips-html"
    bucket_provider: "gcs"
  - route: "adx-static"
    auth: "false"
    bucket_name: "nyt-adx-static"
    bucket_provider: "gcs"
  - route: "games-assets"
    auth: "false"
    bucket_name: "games-assets"
    bucket_provider: "gcs"
  - route: "programs-gcs"
    auth: "false"
    bucket_name: "nyt-betaprog-dev-assets"
    bucket_provider: "gcs"

# big query logger env configuration
bigquery_log:
  name: "www-dev-bigquery"
  project_id: "nyt-fastlylogs-dev"
  dataset: "www_fastly_stg"
  table: "www_stg"
  email: "fastly-log-ingest@nyt-fastlylogs-dev.iam.gserviceaccount.com"
