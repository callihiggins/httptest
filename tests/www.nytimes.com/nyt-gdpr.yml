tests:
  - description: creates new nyt-gdpr when missing in request
    request:
      path: /
      headers:
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          set-cookie: (?:^|,)nyt-gdpr=(0|1);
  - description: creates new nyt-gdpr when empty in request
    request:
      path: /
      headers:
        x-nyt-miss: "1"
        cookie: nyt-gdpr=
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          set-cookie: (?:^|,)nyt-gdpr=(0|1);
  - description: creates new nyt-gdpr when empty among other cookies in request
    request:
      path: /
      headers:
        x-nyt-miss: "1"
        cookie: foo=bar; nyt-gdpr=; argh=blargh
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          set-cookie: (?:^|,)nyt-gdpr=(0|1);
  - description: suppresses nyt-gdpr when provided in request
    request:
      path: /
      headers:
        x-nyt-miss: "1"
        cookie: nyt-gdpr=1
    conditions:
      env:
        TEST_ENV: ^$
    response:
      headers:
        notPresent:
          - x-gdpr
      statusCodes:
        - 200
  - description: suppresses nyt-gdpr when provided among other cookies in request
    request:
      path: /
      headers:
        x-nyt-miss: "1"
        cookie: foo=bar; nyt-gdpr=0; argh=blargh
    conditions:
      env:
        TEST_ENV: ^$
    response:
      headers:
        notPresent:
          - x-gdpr
      statusCodes:
        - 200
  - description: force gdpr by query param
    request:
      path: /?gdpr=1
      headers:
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: "1"
  - description: force gdpr by query param
    request:
      path: /?gdpr=0
      headers:
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: "0"
  - description: GDPR service endpoint
    request:
      path: /svc/gdpr.json
      headers:
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR AMP service endpoint. No NYT-T cookie. No nyt-gdpr cookie.
    request:
      path: /svc/amp-consent.json
      headers:
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-nyt-amp-consent: "false"
      statusCodes:
        - 200
  - description: GDPR AMP service endpoint. No NYT-T cookie. nyt-gdpr=0 cookie.
    request:
      path: /svc/amp-consent.json?gdpr=0
      headers:
        x-nyt-miss: "1"
        cookie: nyt-gdpr=0
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-nyt-amp-consent: "false"
      statusCodes:
        - 200
  - description: GDPR AMP service endpoint. No NYT-T cookie. nyt-gdpr=1 cookie.
    request:
      path: /svc/amp-consent.json?gdpr=1
      headers:
        x-nyt-miss: "1"
        cookie: nyt-gdpr=1
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-nyt-amp-consent: "true"
      statusCodes:
        - 200
  - description: GDPR AMP service endpoint. NYT-T=ok cookie. nyt-gdpr=0 cookie.
    request:
      path: /svc/amp-consent.json?gdpr=0
      headers:
        x-nyt-miss: "1"
        cookie: NYT-T=ok; nyt-gdpr=0
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-nyt-amp-consent: "false"
      statusCodes:
        - 200
  - description: GDPR AMP service endpoint. NYT-T=ok cookie. nyt-gdpr=1 cookie.
    request:
      path: /svc/amp-consent.json?gdpr=1
      headers:
        x-nyt-miss: "1"
        cookie: NYT-T=ok; nyt-gdpr=1
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-nyt-amp-consent: "false"
      statusCodes:
        - 200
  - description: GDPR AMP service endpoint. NYT-T=out cookie. nyt-gdpr=1 cookie.
    request:
      path: /svc/amp-consent.json?gdpr=1
      headers:
        x-nyt-miss: "1"
        cookie: NYT-T=out; nyt-gdpr=1
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-nyt-amp-consent: "true"
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nyt.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nyt.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.thewirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.thewirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.wirecutter.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.wirecutter.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.hellosociety.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.hellosociety.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nyt.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nyt.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.brandstand.co)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.brandstand.co
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobar.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobar.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.example.net)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.example.net
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.fizz.biz)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.fizz.biz
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobarnytimes.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobarnytimes.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nyt.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nyt.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.thewirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.thewirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.wirecutter.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.wirecutter.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.hellosociety.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.hellosociety.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nyt.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nyt.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.brandstand.co:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.brandstand.co:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobar.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobar.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.example.net:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.example.net:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.fizz.biz:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.fizz.biz:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobarnytimes.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobarnytimes.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nyt.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nyt.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.thewirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.thewirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.wirecutter.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.wirecutter.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.hellosociety.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.hellosociety.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nyt.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nyt.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.brandstand.co:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.brandstand.co:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobar.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobar.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.example.net:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.example.net:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.fizz.biz:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.fizz.biz:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobarnytimes.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobarnytimes.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin www.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin www.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: www.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://www.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://www.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://www.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://www.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://www.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://www.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin alpha.stg.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin alpha.stg.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: alpha.stg.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://alpha.stg.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://alpha.stg.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://alpha.stg.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://alpha.stg.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://alpha.stg.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://alpha.stg.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin foo.bar.fizz.buzz.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin foo.bar.fizz.buzz.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: foo.bar.fizz.buzz.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin http://foo.bar.fizz.buzz.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin http://foo.bar.fizz.buzz.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: http://foo.bar.fizz.buzz.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobarnytimes.stats.com)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobarnytimes.stats.com
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobarnytimes.stats.com:3000)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobarnytimes.stats.com:3000
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Origin https://foo.bar.fizz.buzz.nytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.nytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
          access-control-allow-origin: "^[[:^alpha:]]$"
          access-control-allow-methods: "^GET, OPTIONS$"
          access-control-expose-headers: "^Content-Type$"
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
  - description: GDPR service endpoint (Bad Origin https://foo.bar.fizz.buzz.foobarnytimes.stats.com:8080)
    request:
      path: /svc/gdpr.json
      headers:
        origin: https://foo.bar.fizz.buzz.foobarnytimes.stats.com:8080
        x-nyt-miss: "1"
    conditions:
      env:
        TEST_ENV: dev|stg|prd
    response:
      headers:
        patterns:
          x-gdpr: (0|1)
        notPresent:
          - access-control-allow-origin
          - access-control-allow-methods
          - access-control-expose-headers
      body:
        patterns:
          - '\{"GDPR":[0|1]\}'
      statusCodes:
        - 200
